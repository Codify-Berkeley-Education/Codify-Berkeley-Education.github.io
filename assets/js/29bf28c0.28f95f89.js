"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[471],{8199:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>h});var t=a(4848),s=a(8453),r=a(1470),o=a(9365);const i={sidebar_position:2},l="Setting up Postgres for Local Development",c={id:"Bonus/running-postgres-with-docker",title:"Setting up Postgres for Local Development",description:"Unlike SQLite, which is just a single file that can live locally on your machine, Postgres must be run in the form of a server, which you can connect to with a connection string that looks something like this:",source:"@site/docs/Bonus/running-postgres-with-docker.md",sourceDirName:"Bonus",slug:"/Bonus/running-postgres-with-docker",permalink:"/docs/Bonus/running-postgres-with-docker",draft:!1,unlisted:!1,editUrl:"https://github.com/CS61D/website/tree/main/docs/Bonus/running-postgres-with-docker.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"How to be productive in VSCode",permalink:"/docs/Bonus/vscode-tips"},next:{title:"Rapid Full Stack Form Prototyping with T3",permalink:"/docs/Bonus/fullstack-forms"}},d={},h=[{value:"TL;DR Quick Start",id:"tldr-quick-start",level:2},{value:"T3 Quick Start",id:"t3-quick-start",level:2},{value:"Detailed Explanation",id:"detailed-explanation",level:2},{value:"Pulling Images",id:"pulling-images",level:3},{value:"Creating a Container",id:"creating-a-container",level:3},{value:"Port Mapping",id:"port-mapping",level:4},{value:"Interacting with the Running Container",id:"interacting-with-the-running-container",level:3},{value:"psql Commands Reference",id:"psql-commands-reference",level:2},{value:"Listing Databases",id:"listing-databases",level:3},{value:"Connecting to a Database as current user",id:"connecting-to-a-database-as-current-user",level:3},{value:"Exit connected database",id:"exit-connected-database",level:3},{value:"Docker Commands Reference",id:"docker-commands-reference",level:2},{value:"Listing Images",id:"listing-images",level:3},{value:"Pulling an Image from Docker Hub",id:"pulling-an-image-from-docker-hub",level:3},{value:"Listing Containers",id:"listing-containers",level:3},{value:"Starting a Container",id:"starting-a-container",level:3},{value:"Stopping a Container",id:"stopping-a-container",level:3},{value:"List environment variables of a container",id:"list-environment-variables-of-a-container",level:3}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:a}=n;return a||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"setting-up-postgres-for-local-development",children:"Setting up Postgres for Local Development"}),"\n",(0,t.jsx)(n.p,{children:"Unlike SQLite, which is just a single file that can live locally on your machine, Postgres must be run in the form of a server, which you can connect to with a connection string that looks something like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"postgres://username:password@localhost:5432/database_name\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The single quickest way to get started is to just use a hosted postgres provider like ",(0,t.jsxs)(n.a,{href:"https://neon.tech/",rel:"nofollow",children:["Neon",(0,t.jsx)(n.span,{children:(0,t.jsx)(n.span,{className:"glossary-icon",children:" \u2197"})})]}),". Just create an account, a project, a database, copy the connection string, and you're good to go. However, using a hosted provider in a ",(0,t.jsx)(n.strong,{children:"local development environment"})," had a variety of drawbacks. Unless you are running a very old and slow computer, we highly recommend running Postgres locally with Docker."]}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.p,{children:"Drawbacks of using a hosted provider in a local development environment"})}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cost"}),": Hosted solutions almost always have free tiers, but these tiers often only allow you to have a single database, which can be a pain if you are working on multiple projects. Moreover, if you use free tier allowances on development databases, you can't take advantage of them in production."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Development Latency"}),": Your app will run faster locally when database requests do not have to travel potentially hundreds of miles to and from a data center. A faster app in development makes for a more productive developer."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mimicking your Production Environment"}),": When your frontend makes a request to your server, you may need to make multiple calls to the database for a single request. For this reason, in production, you almost always want your database to be physically located as close to your server as possible, ideally in the same data center. When your are developing locally, you want to mimic this environment. Running your local server and your local database on the same machine will give you a better sense of when a request is slow because of your code, and when it is slow because of the network."]}),"\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"tldr-quick-start",children:"TL;DR Quick Start"}),"\n",(0,t.jsxs)(n.p,{children:["After ",(0,t.jsx)(n.a,{href:"/docs/setup#docker-and-docker-desktop",children:"installing docker"}),", first pull the latest Postgres image from Docker Hub:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker pull postgres:latest\n"})}),"\n",(0,t.jsx)(n.p,{children:"Then create a container, Postgres user, and database:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker run --name pg_container \\\n  -e POSTGRES_PASSWORD=pg_password \\\n  -e POSTGRES_USER=root \\\n  -e POSTGRES_DB=mydatabase \\\n  -p 5432:5432 \\\n  -d postgres\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can now connect to your database with the following connection string:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"postgresql://root:pg_password@localhost:5432/mydatabase\n"})}),"\n",(0,t.jsx)(n.h2,{id:"t3-quick-start",children:"T3 Quick Start"}),"\n",(0,t.jsxs)(n.p,{children:["If you are using ",(0,t.jsxs)(n.a,{href:"https://create.t3.gg/",rel:"nofollow",children:["Create T3 App",(0,t.jsx)(n.span,{children:(0,t.jsx)(n.span,{className:"glossary-icon",children:" \u2197"})})]}),", a ",(0,t.jsxs)(n.a,{href:"https://create.t3.gg/en/usage/first-steps#mysql-postgresql",rel:"nofollow",children:["setup script",(0,t.jsx)(n.span,{children:(0,t.jsx)(n.span,{className:"glossary-icon",children:" \u2197"})})]})," ",(0,t.jsx)(n.code,{children:"start-database.sh"})," will automatically be created for you. It will use the name of your project from your ",(0,t.jsx)(n.code,{children:"package.json"})," to create a new docker container and database for you."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./start-database.sh\n"})}),"\n",(0,t.jsx)(n.h2,{id:"detailed-explanation",children:"Detailed Explanation"}),"\n",(0,t.jsx)(n.p,{children:"When learning to use Docker, it is often easiest to play around using the Docker Desktop GUI, but eventually learning how to use the CLI is a necessity. This guide will explain how to do everything using both, so you can choose which you prefer."}),"\n",(0,t.jsx)(n.h3,{id:"pulling-images",children:"Pulling Images"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.code,{children:"docker image"})," is like a configuration file that tells Docker how to create a ",(0,t.jsx)(n.code,{children:"docker container"}),", which is a running instance of a containerized program. We only need to pull the image once, and then we can create as many containers as we want from it."]}),"\n",(0,t.jsxs)(n.p,{children:["When you are pulling an image of a common open source program, you are almost always pulling it from ",(0,t.jsxs)(n.a,{href:"https://hub.docker.com/",rel:"nofollow",children:["Docker Hub",(0,t.jsx)(n.span,{children:(0,t.jsx)(n.span,{className:"glossary-icon",children:" \u2197"})})]}),", which is like GitHub for Docker images. Information about the image, including available versions (a.k.a tags) and the ",(0,t.jsx)(n.code,{children:"pull"})," command will be on the image homepage. Docker desktop also can be used for viewing and pulling images from Docker Hub."]}),"\n",(0,t.jsxs)(n.p,{children:["We specify which version of the image we want to pull with a tag. Most images have a ",(0,t.jsx)(n.code,{children:"latest"})," tag, which is the most recent stable version."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker pull postgres:latest\n"})}),"\n",(0,t.jsx)(n.h3,{id:"creating-a-container",children:"Creating a Container"}),"\n",(0,t.jsx)(n.p,{children:"After pulling the Postgres image, we need to create a container for it. Once we run the container on our localhost, we will have a Postgres server running on a port of our choice."}),"\n",(0,t.jsxs)(n.p,{children:["The Postgres image requires two environment variables to be initialized: ",(0,t.jsx)(n.code,{children:"POSTGRES_USER"})," and ",(0,t.jsx)(n.code,{children:"POSTGRES_PASSWORD"}),". This username and password will be used to create the superuser, which has full access to all databases and all admin functions. Other people are not going to connect to your local database, so you normally only need to configure one superuser. If you are interested, check out the ",(0,t.jsxs)(n.a,{href:"https://www.postgresql.org/docs/8.0/user-manag.html",rel:"nofollow",children:["Postgres official docs",(0,t.jsx)(n.span,{children:(0,t.jsx)(n.span,{className:"glossary-icon",children:" \u2197"})})]}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Common usernames are ",(0,t.jsx)(n.code,{children:"root"}),", ",(0,t.jsx)(n.code,{children:"postgres"}),", or ",(0,t.jsx)(n.code,{children:"admin"}),". Don't choose a hard to remember password, this is just a development environment that can't be accessed outside of your computer; just stick with ",(0,t.jsx)(n.code,{children:"pg_password"})," or ",(0,t.jsx)(n.code,{children:"password"}),"."]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)(o.A,{value:"cli",label:"Docker CLI",default:!0,children:[(0,t.jsxs)(n.p,{children:["The container name (which we specified as pg_container) is optional, and if not provided docker will create a name for you. What is required is the actual image name, (which we specified as postgres",":latest","). You may replace ",(0,t.jsx)(n.code,{children:"root"})," and ",(0,t.jsx)(n.code,{children:"pg_password"})," with your desired username and password. Also, if you want to just create the container without starting it, you can run ",(0,t.jsx)(n.code,{children:"docker create"})," instead of ",(0,t.jsx)(n.code,{children:"docker run"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-docker",children:"docker run --name pg_container \\\n  -e POSTGRES_PASSWORD=pg_password \\\n  -e POSTGRES_USER=root \\\n  -p 5432:5432 \\\n  -d postgres:latest\n"})}),(0,t.jsxs)(n.p,{children:["You can then verify that the container is running by inspecting your running containers.",(0,t.jsx)(n.code,{children:"ps"})," stands for process status."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker ps\n"})}),(0,t.jsxs)(n.p,{children:["The created container should have status ",(0,t.jsx)(n.code,{children:"Up"})," a few seconds ago."]})]}),(0,t.jsxs)(o.A,{value:"desktop",label:"Docker Desktop",children:[(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Select the ",(0,t.jsx)(n.code,{children:"Images"})," tab on the left sidebar, and select the ",(0,t.jsx)(n.code,{children:"postgres"})," image."]}),"\n",(0,t.jsxs)(n.li,{children:["Click the ",(0,t.jsx)(n.code,{children:"Run"})," button in the top right corner."]}),"\n",(0,t.jsxs)(n.li,{children:["In the dialog that pops up, add the environment variables ",(0,t.jsx)(n.code,{children:"POSTGRES_PASSWORD"})," and ",(0,t.jsx)(n.code,{children:"POSTGRES_USER"})," your desired values. You can also add a name for the container in the ",(0,t.jsx)(n.code,{children:"Container name"})," field."]}),"\n",(0,t.jsxs)(n.li,{children:["Click the ",(0,t.jsx)(n.code,{children:"Run"})," button in the popup."]}),"\n"]}),(0,t.jsxs)(n.p,{children:["To verify it is running, Select ",(0,t.jsx)(n.code,{children:"Containers"})," from the left sidebar, and you should see your container with a status of ",(0,t.jsx)(n.code,{children:"Running"}),"."]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"port-mapping",children:"Port Mapping"}),"\n",(0,t.jsxs)(n.p,{children:["The default port for Postgres is ",(0,t.jsx)(n.code,{children:"5432"}),", so we map the container port ",(0,t.jsx)(n.code,{children:"5432"})," to our localhost port ",(0,t.jsx)(n.code,{children:"5432"})," with the ",(0,t.jsx)(n.code,{children:"-p"})," flag. This means that when we connect to ",(0,t.jsx)(n.code,{children:"localhost:5432"})," we are connecting to the Postgres server running in the container. You shouldn't ever have to set it to another port, unless you want to run multiple Postgres servers on your machine simultaneously."]}),"\n",(0,t.jsx)(n.h3,{id:"interacting-with-the-running-container",children:"Interacting with the Running Container"}),"\n",(0,t.jsx)(n.p,{children:"There are three ways to interact with our running container:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In Docker Desktop, click on the container and then on the ",(0,t.jsx)(n.code,{children:"exec"})," tab. This terminal will allow you to run commands in the container."]}),"\n",(0,t.jsx)(n.li,{children:"We can also spawn this same shell interactively from the command line. Run:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker exec -it pg_container bash\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This will open an interactive (specified with the -it flag) shell in the container. Replace ",(0,t.jsx)(n.code,{children:"pg_container"})," with the name of your container if you chose a different name. To exit the shell, type ",(0,t.jsx)(n.code,{children:"exit"}),"."]}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["Finally, if you don't need to or want to have an interactive shell and instead just want to run a single command, you can use ",(0,t.jsx)(n.code,{children:"docker exec"})," without the ",(0,t.jsx)(n.code,{children:"-it"})," flags."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker exec pg_container whoami\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Now, we can use the Postgres command line interface called ",(0,t.jsx)(n.code,{children:"psql"})," to interact with our server. Just run:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"psql\n"})}),"\n",(0,t.jsx)(n.p,{children:"in the container and you will sign in as the root user you configured with an environment variable. You can now run SQL commands. To create your database with your chosen name, run:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE DATABASE mydatabase;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Assuming you did not change any of the port mapping, you connection string will be of form:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"postgresql://<username>:<password>@localhost:5432/<database_name>\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you followed along, it will look like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"postgresql://root:pg_password@localhost:5432/mydatabase\n"})}),"\n",(0,t.jsx)(n.p,{children:"Now you are ready to get developing! If you are need multiple databases, it is easiest to create just create them in the same container you set up."}),"\n",(0,t.jsx)(n.h2,{id:"psql-commands-reference",children:"psql Commands Reference"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"https://gist.github.com/Kartones/dd3ff5ec5ea238d4c546",rel:"nofollow",children:["Useful Cheat Sheet",(0,t.jsx)(n.span,{children:(0,t.jsx)(n.img,{src:"/img/link-icons/github.svg",alt:"github",className:"github-icon",style:{width:"16px",height:"16px",marginLeft:"0.25rem",verticalAlign:"baseline"}})})]})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"listing-databases",children:"Listing Databases"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"\\l\n"})}),"\n",(0,t.jsx)(n.h3,{id:"connecting-to-a-database-as-current-user",children:"Connecting to a Database as current user"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"\\c mydatabasename\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This will let you run raw SQL commands on the database you are connected to. To switch to another database, just run ",(0,t.jsx)(n.code,{children:"\\c"})," again."]}),"\n",(0,t.jsx)(n.h3,{id:"exit-connected-database",children:"Exit connected database"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"\\q\n"})}),"\n",(0,t.jsx)(n.h2,{id:"docker-commands-reference",children:"Docker Commands Reference"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"https://docs.docker.com/get-started/docker_cheatsheet.pdf",rel:"nofollow",children:["Useful Cheat Sheet",(0,t.jsx)(n.span,{children:(0,t.jsx)(n.span,{className:"glossary-icon",children:" \u2197"})})]})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"listing-images",children:"Listing Images"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker images\n"})}),"\n",(0,t.jsx)(n.h3,{id:"pulling-an-image-from-docker-hub",children:"Pulling an Image from Docker Hub"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker pull <image_name>:<tag>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"listing-containers",children:"Listing Containers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker ps\n"})}),"\n",(0,t.jsx)(n.h3,{id:"starting-a-container",children:"Starting a Container"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker start <container_name>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"stopping-a-container",children:"Stopping a Container"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker stop <container_name>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"list-environment-variables-of-a-container",children:"List environment variables of a container"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker exec <container_name> env\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},9365:(e,n,a)=>{a.d(n,{A:()=>o});a(6540);var t=a(4164);const s={tabItem:"tabItem_Ymn6"};var r=a(4848);function o(e){let{children:n,hidden:a,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,o),hidden:a,children:n})}},1470:(e,n,a)=>{a.d(n,{A:()=>y});var t=a(6540),s=a(4164),r=a(3104),o=a(6347),i=a(205),l=a(7485),c=a(1682),d=a(9466);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:a}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:a,attributes:t,default:s}}=e;return{value:n,label:a,attributes:t,default:s}}))}(a);return function(e){const n=(0,c.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function p(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:a}=e;const s=(0,o.W6)(),r=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,l.aZ)(r),(0,t.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})}),[r,s])]}function m(e){const{defaultValue:n,queryString:a=!1,groupId:s}=e,r=u(e),[o,l]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=a.find((e=>e.default))??a[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r}))),[c,h]=g({queryString:a,groupId:s}),[m,x]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,r]=(0,d.Dv)(a);return[s,(0,t.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:s}),f=(()=>{const e=c??m;return p({value:e,tabValues:r})?e:null})();(0,i.A)((()=>{f&&l(f)}),[f]);return{selectedValue:o,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),x(e)}),[h,x,r]),tabValues:r}}var x=a(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=a(4848);function b(e){let{className:n,block:a,selectedValue:t,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),d=e=>{const n=e.currentTarget,a=l.indexOf(n),s=i[a].value;s!==t&&(c(n),o(s))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=l.indexOf(e.currentTarget)+1;n=l[a]??l[0];break}case"ArrowLeft":{const a=l.indexOf(e.currentTarget)-1;n=l[a]??l[l.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":a},n),children:i.map((e=>{let{value:n,label:a,attributes:r}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>l.push(e),onKeyDown:h,onClick:d,...r,className:(0,s.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":t===n}),children:a??n},n)}))})}function v(e){let{lazy:n,children:a,selectedValue:s}=e;const r=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function w(e){const n=m(e);return(0,j.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,j.jsx)(b,{...e,...n}),(0,j.jsx)(v,{...e,...n})]})}function y(e){const n=(0,x.A)();return(0,j.jsx)(w,{...e,children:h(e.children)},String(n))}},8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>i});var t=a(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);